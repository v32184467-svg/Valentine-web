<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Special One | Valentine 2025</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,700&family=Satoshi:wght@300;400;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --bg-dark: #0c0a09;
            --primary-pink: #ec4899;
            --primary-red: #ef4444;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-dark);
            color: #f8fafc;
            font-family: 'Satoshi', sans-serif;
            overflow: hidden;
            height: 100vh;
        }

        /* Layer 1: Animated Aurora Background */
        .aurora-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: radial-gradient(circle at 50% 50%, #1a1a1a 0%, #0c0a09 100%);
            overflow: hidden;
        }

        .aurora {
            position: absolute;
            width: 200%;
            height: 200%;
            top: -50%;
            left: -50%;
            background: 
                radial-gradient(circle at 20% 30%, hsla(333, 70%, 55%, 0.4) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, hsla(282, 82%, 54%, 0.3) 0%, transparent 40%),
                radial-gradient(circle at 40% 80%, hsla(210, 89%, 60%, 0.3) 0%, transparent 40%),
                radial-gradient(circle at 70% 20%, hsla(35, 90%, 60%, 0.3) 0%, transparent 40%);
            filter: blur(80px);
            animation: aurora-flow 20s ease-in-out infinite alternate;
        }

        @keyframes aurora-flow {
            0% { transform: rotate(0deg) scale(1); }
            100% { transform: rotate(10deg) scale(1.1); }
        }

        /* Three.js Canvas Layer */
        #three-canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
            pointer-events: none;
        }

        /* Glassmorphism Cards */
        .glass-card {
            background: rgba(12, 10, 9, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            padding: 2.5rem;
            max-width: 500px;
            width: 90%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none;
            opacity: 0;
        }

        .heading-serif {
            font-family: 'Playfair Display', serif;
            background: linear-gradient(to right, #fff, #f472b6, #fb7185);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* Custom Button */
        .btn-valentine {
            background: linear-gradient(135deg, #ec4899, #ef4444);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 20px rgba(236, 72, 153, 0.4);
        }

        .btn-valentine:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 0 30px rgba(236, 72, 153, 0.6);
        }

        .btn-valentine:active {
            transform: translateY(0) scale(0.98);
        }

        /* Progress Bar */
        .progress-container {
            position: fixed;
            top: 2rem;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            z-index: 100;
        }

        #progress-bar {
            height: 100%;
            width: 20%;
            background: linear-gradient(90deg, #ec4899, #ef4444);
            border-radius: 10px;
            transition: width 0.8s cubic-bezier(0.65, 0, 0.35, 1);
        }

        /* Bento Grid */
        .bento-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 20px;
        }
        .bento-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* Polaroid Effect */
        .polaroid {
            background: white;
            padding: 10px 10px 30px 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transform: rotate(-3deg);
            transition: transform 0.3s ease;
            max-width: 200px;
            margin: 0 auto;
        }
        .polaroid img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }
        .polaroid p {
            color: #333;
            font-family: 'Playfair Display', serif;
            font-size: 0.8rem;
            margin-top: 10px;
            text-align: center;
        }

        /* Animations */
        .heart-beat {
            animation: beat 1.5s infinite;
        }
        @keyframes beat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
    </style>
</head>
<body>

    <div class="aurora-container">
        <div class="aurora"></div>
    </div>
    
    <canvas id="three-canvas"></canvas>

    <div class="progress-container">
        <div id="progress-bar"></div>
    </div>

    <div id="step-1" class="glass-card text-center" style="display: block; opacity: 1;">
        <div class="text-6xl mb-6 heart-beat">‚ù§Ô∏è</div>
        <h1 class="heading-serif text-4xl font-bold mb-4">Yo Babuaa,</h1>
        <p class="text-slate-300 mb-8 leading-relaxed">I built a little world for you, just to bring a smile to your face on your special day.</p>
        <button onclick="nextStep(2)" class="btn-valentine text-white font-bold py-3 px-10 rounded-full">Let's Begin</button>
    </div>

    <div id="step-2" class="glass-card text-center">
        <div class="text-6xl mb-6">üíó</div>
        <h1 class="heading-serif text-4xl font-bold mb-4">Happy Valentine's Day!</h1>
        <p class="text-slate-300 mb-8 leading-relaxed">To my love, Happy Valentine's Day. Our journey together has been amazing, filled with laughter, sprawl-brawl, and endless love.</p>
        <button onclick="nextStep(3)" class="btn-valentine text-white font-bold py-3 px-10 rounded-full">There's more...</button>
    </div>

    <div id="step-3" class="glass-card">
        <h2 class="heading-serif text-3xl font-bold mb-4 text-center">A Few Things I Adore...</h2>
        <div class="bento-grid mb-8">
            <div class="bento-item col-span-2">
                <h3 class="text-pink-400 font-bold text-sm mb-1">‚ú® Your Unmatched Kindness</h3>
                <p class="text-xs text-slate-300">The genuine warmth you show to everyone is something truly rare.</p>
            </div>
            <div class="bento-item">
                <h3 class="text-pink-400 font-bold text-sm mb-1">üòä That Smile</h3>
                <p class="text-xs text-slate-300">It's a work of art.</p>
            </div>
            <div class="bento-item">
                <h3 class="text-pink-400 font-bold text-sm mb-1">üåü Radiant</h3>
                <p class="text-xs text-slate-300">Infectious energy.</p>
            </div>
            <div class="bento-item col-span-2">
                <h3 class="text-pink-400 font-bold text-sm mb-1">üíñ Your Spirit</h3>
                <p class="text-xs text-slate-300">Being around you makes everything feel possible.</p>
            </div>
        </div>
        <div class="text-center">
            <button onclick="nextStep(4)" class="btn-valentine text-white font-bold py-3 px-10 rounded-full">Remember this?</button>
        </div>
    </div>

    <div id="step-4" class="glass-card text-center">
        <h2 class="heading-serif text-3xl font-bold mb-6">That One Time...</h2>
        <div class="polaroid mb-6" id="polaroid">
            <img src="https://i.ibb.co/ymCm1W7M/IMG-20260131-235125-751.webp" alt="Memory">
            <p>Our favorite memory.</p>
        </div>
        <p class="text-slate-300 mb-8 italic">"Every moment with you feels like a scene from a movie I'd watch on repeat."</p>
        <button onclick="nextStep(5)" class="btn-valentine text-white font-bold py-3 px-10 rounded-full">One last thing...</button>
    </div>

    <div id="step-5" class="glass-card text-center">
        <div class="text-6xl mb-6">üíû</div>
        <h1 class="heading-serif text-3xl font-bold mb-4">This is for you</h1>
        <div class="max-h-[200px] overflow-y-auto mb-6 px-2 custom-scroll">
            <p class="text-slate-300 leading-relaxed text-sm">
                mere pyaare kuchi puchi babuaa i love you bhot sara hum aapko bhot pyaar karti humko batane nhi aati aapko kaise dikhaye kitna pyaar karti lekin kahi bhi apni Kami na chodti kabhi aapko Aisa na lage ki hum aapse pyaar na karti aur kucch bhi ho jaye aapke liye mera pyaar kabhi khatam nhi hoga i really really lobeee youuu bhot thala bhot thala ummmahh üíãüíã.
            </p>
        </div>
        <h2 id="final-wish" class="heading-serif text-2xl font-bold opacity-0">Happy Valentine day, Mehraru jii! ‚ù§Ô∏è</h2>
    </div>

    <script>
        // --- Three.js Background Setup ---
        let scene, camera, renderer, hearts = [];
        const heartCount = 25;

        function initThree() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('three-canvas'), alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);

            // Create Heart Shape
            const x = 0, y = 0;
            const heartShape = new THREE.Shape();
            heartShape.moveTo(x + 5, y + 5);
            heartShape.bezierCurveTo(x + 5, y + 5, x + 4, y, x, y);
            heartShape.bezierCurveTo(x - 6, y, x - 6, y + 7, x - 6, y + 7);
            heartShape.bezierCurveTo(x - 6, y + 11, x - 3, y + 15.4, x + 5, y + 19);
            heartShape.bezierCurveTo(x + 12, y + 15.4, x + 16, y + 11, x + 16, y + 7);
            heartShape.bezierCurveTo(x + 16, y + 7, x + 16, y, x + 10, y);
            heartShape.bezierCurveTo(x + 7, y, x + 5, y + 5, x + 5, y + 5);

            const geometry = new THREE.ExtrudeGeometry(heartShape, { depth: 2, bevelEnabled: true, bevelThickness: 1, bevelSize: 1 });
            
            for (let i = 0; i < heartCount; i++) {
                const material = new THREE.MeshPhongMaterial({ 
                    color: i % 2 === 0 ? 0xec4899 : 0xef4444,
                    shininess: 100 
                });
                const heart = new THREE.Mesh(geometry, material);
                
                heart.position.set(
                    (Math.random() - 0.5) * 100,
                    (Math.random() - 0.5) * 100,
                    (Math.random() - 0.5) * 50
                );
                heart.rotation.x = Math.PI;
                heart.scale.set(0.1, 0.1, 0.1);
                
                // Custom properties for animation
                heart.userData = {
                    speed: 0.02 + Math.random() * 0.02,
                    angle: Math.random() * Math.PI * 2
                };
                
                scene.add(heart);
                hearts.push(heart);
            }

            const light = new THREE.DirectionalLight(0xffffff, 1);
            light.position.set(0, 0, 10);
            scene.add(light);
            scene.add(new THREE.AmbientLight(0x404040));

            camera.position.z = 50;
        }

        function animateThree() {
            requestAnimationFrame(animateThree);
            hearts.forEach(heart => {
                heart.userData.angle += heart.userData.speed;
                heart.position.y += Math.sin(heart.userData.angle) * 0.05;
                heart.rotation.y += 0.01;
            });
            renderer.render(scene, camera);
        }

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // --- Interaction Logic ---
        let currentStep = 1;

        function nextStep(step) {
            const currentEl = document.getElementById(`step-${currentStep}`);
            const nextEl = document.getElementById(`step-${step}`);
            
            // GSAP Transition Out
            gsap.to(currentEl, {
                opacity: 0,
                y: -50,
                duration: 0.5,
                onComplete: () => {
                    currentEl.style.display = 'none';
                    nextEl.style.display = 'block';
                    
                    // GSAP Transition In
                    gsap.fromTo(nextEl, 
                        { opacity: 0, y: 50 },
                        { opacity: 1, y: 0, duration: 0.8, ease: "power2.out" }
                    );
                    
                    // Progress Bar update
                    document.getElementById('progress-bar').style.width = `${(step / 5) * 100}%`;
                    
                    if(step === 5) triggerFinale();
                }
            });
            
            currentStep = step;
        }

        function triggerFinale() {
            // Confetti Bursts
            const duration = 5 * 1000;
            const animationEnd = Date.now() + duration;
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            const interval = setInterval(function() {
                const timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) return clearInterval(interval);

                const particleCount = 50 * (timeLeft / duration);
                confetti({ ...defaults, particleCount, origin: { x: Math.random(), y: Math.random() - 0.2 }, colors: ['#ec4899', '#ef4444', '#ffffff'] });
                confetti({ ...defaults, particleCount, origin: { x: Math.random(), y: Math.random() - 0.2 }, shapes: ['circle'], scalar: 1.2 });
            }, 250);

            // Emoji Confetti
            confetti({
                particleCount: 40,
                spread: 70,
                origin: { y: 0.6 },
                shapes: ['circle'],
                colors: ['#ff0000'],
                scalar: 2
            });

            // Fade in Final Wish
            gsap.to("#final-wish", { opacity: 1, y: -10, duration: 1.5, delay: 1 });

            // 3D Hearts Outro
            hearts.forEach((heart, i) => {
                gsap.to(heart.position, {
                    x: (Math.random() - 0.5) * 200,
                    y: 100,
                    z: 50,
                    duration: 3,
                    delay: i * 0.05,
                    ease: "power2.in"
                });
                gsap.to(heart.scale, { x: 0, y: 0, z: 0, duration: 3, delay: i * 0.05 });
            });
        }

        // Polaroid Hover Effect
        const polaroid = document.getElementById('polaroid');
        document.addEventListener('mousemove', (e) => {
            if (currentStep === 4) {
                const xAxis = (window.innerWidth / 2 - e.pageX) / 25;
                const yAxis = (window.innerHeight / 2 - e.pageY) / 25;
                polaroid.style.transform = `rotateY(${xAxis}deg) rotateX(${yAxis}deg) rotateZ(-3deg)`;
            }
        });

        // Initialize
        initThree();
        animateThree();
    </script>
</body>
</html>
